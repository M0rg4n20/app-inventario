import{k as c,T as V,J as g,m as E,n as S,s,p as a,w as h,z as Y,u as t,M as z,am as D,C as N,t as $,a as T,O as U}from"./vendorb2c7101c.js";import{_ as i}from"./InputErrorb5789600.js";import{_ as u}from"./InputLabel949fdd54.js";import{_ as B}from"./Modal5c7d7f4d.js";import{_ as x}from"./TextInput70c275a9.js";import{_ as F}from"./PrimaryButton2bb40203.js";import{S as I}from"./sweetalert2.all5300f0ca.js";import{i as j}from"./es.es28b7c52d.js";const O={class:"p-2"},G=s("div",{class:"p-4 mb-4 rounded-t flex justify-between items-center border-b border-gray-200 dark:border-gray-600"},[s("h2",{class:"text-lg font-medium text-gray-900"}," Editar ")],-1),H=["onSubmit"],J={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},W={class:"col-span-4 shadow-default xl:col-span-2"},q={class:"col-span-4 shadow-default xl:col-span-2 z-50"},A={class:"col-span-4 shadow-default xl:col-span-2 z-50"},K={class:"col-span-6 shadow-default xl:col-span-6 z-50 mb-5"},L={class:"flex justify-end pt-0"},m="pedidos",te={__name:"EditarModal",props:{clienteId:{type:Number,default:null}},setup(_){const v=_,n=c(!1),d=c(),f=c(""),b=c(""),e=V({id:"",comentario:"",telefono:"",casa_direccion:"",casa_colonia:"",fecha:"",hora:""});g(f,()=>e.oficina_colonia=f.value),g(b,()=>e.casa_colonia=b.value);const y=l=>{e.fecha=l,d.value=l},k=()=>{w(v.clienteId)},w=l=>{T.get(route(m+".show",l)).then(r=>{n.value=!0;var o=r.data.data;e.id=o.id,e.comentario=o.comentario,e.telefono=o.telefono,e.casa_direccion=o.casa_direccion,e.casa_colonia=o.casa_colonia,e.fecha=o.fecha,e.hora=o.hora,d.value=o.fecha})},p=()=>{n.value=!1,e.reset()},C=()=>{e.clearErrors(),e.post(route(m+".updatepedido",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{n.value=!1,M("Editado"),U.get(route(m+".index"))},onFinish:()=>{},onError:()=>{}})},M=l=>{e.reset(),I.fire({width:350,title:l,icon:"success"})};return(l,r)=>(E(),S("section",null,[s("button",{type:"button",class:"rounded bg-blue-500 px-1 py-1 text-xs font-normal text-white mr-1 mb-1 hover:bg-blue-600",onClick:k},"Editar"),a(B,{show:n.value,onClose:p,maxWidth:"md"},{default:h(()=>[s("div",O,[G,s("form",{onSubmit:Y(C,["prevent"])},[s("div",J,[s("div",W,[a(u,{for:"telefono",value:"TÃ©lefono",class:"block text-base font-medium leading-6 text-gray-900"}),a(x,{id:"telefono",type:"text",modelValue:t(e).telefono,"onUpdate:modelValue":r[0]||(r[0]=o=>t(e).telefono=o),placeholder:"Ingrese telefono",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:t(e).errors.telefono},null,8,["message"])]),s("div",q,[a(u,{for:"fecha",value:"Fecha",class:"block text-base font-medium leading-6 text-gray-900"}),a(t(j),{value:d.value,"onUpdate:value":r[1]||(r[1]=o=>d.value=o),"value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",type:"date",onChange:y,lang:"es",placeholder:"Seleccione fecha"},null,8,["value"]),a(i,{class:"mt-1 text-xs",message:t(e).errors.fecha},null,8,["message"])]),s("div",A,[a(u,{for:"hora",value:"Hora",class:"block text-base font-medium leading-6 text-gray-900"}),a(x,{id:"hora",type:"time",modelValue:t(e).hora,"onUpdate:modelValue":r[2]||(r[2]=o=>t(e).hora=o)},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:t(e).errors.hora},null,8,["message"])]),s("div",K,[a(u,{for:"comentario",value:"Comentario",class:"block text-base font-medium leading-6 text-gray-900"}),z(s("textarea",{id:"comentario",placeholder:"Comentario","onUpdate:modelValue":r[3]||(r[3]=o=>t(e).comentario=o),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md rounded p-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-primary-500",rows:"2",cols:"50"},null,512),[[D,t(e).comentario]]),a(i,{class:"mt-1 text-xs",message:t(e).errors.comentario},null,8,["message"])])]),s("div",L,[s("button",{onClick:p,type:"button",class:"inline-block rounded bg-red-600 p-2 text-sm font-semibold text-white mr-4 mb-1 hover:bg-red-700"}," Cancelar "),a(F,{class:N(["inline-block rounded bg-blue-600 p-2 text-sm font-semibold text-white mr-1 mb-1 hover:bg-blue-700",{"opacity-50":t(e).processing}]),disabled:t(e).processing},{default:h(()=>[$(" Guardar ")]),_:1},8,["class","disabled"])])],40,H)])]),_:1},8,["show"])]))}};export{te as default};
