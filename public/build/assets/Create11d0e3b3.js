import{k as p,G as S,o as de,K as b,T as ne,m as u,n as m,p as a,u as o,w as y,q as ie,Z as ce,s as t,t as j,v as x,z as E,A as N,x as P,y as $,B as v,D as ge,M as ue,al as me,C as L}from"./vendor9df2f612.js";import{_ as pe}from"./AuthenticatedLayouta4b2ee4f.js";import{Q as be,Z as B}from"./flowbite-vue17772b29.js";import{S as _e}from"./sweetalert2.all2e5f4a54.js";import{_ as fe}from"./StockColor17b58de9.js";import{s as Z}from"./multiselectf73eb494.js";import{D,l as xe}from"./es-ESfe29d7f2.js";import{_ as ye}from"./PrimaryButton0ecc7f29.js";import{_ as g}from"./InputError36fdb8dd.js";import{_ as d}from"./InputLabel7da40d8f.js";import{_ as n}from"./TextInputaca9d9c1.js";import ve from"./CrearClientExternoc2041f68.js";import he from"./AgregarDescuentoModal62290a7b.js";import"./Modale28fe8ea.js";import"./es.es96ee115e.js";const ke={class:"ml-4 col-span-full"},we={class:"p-2 mb-4 col-span-12 md:col-span-12 lg:col-span-6 bg-white rounded-lg border-gray-700 shadow dark:bg-gray-800 dark:border-gray-800 sm:p-4"},Ve={class:"overflow-x-auto"},je=["onSubmit"],Ce={class:"px-2 grid grid-cols-12 gap-2 lg:gap-2 mt-0 mb-2"},Ie={class:"grid grid-cols-12 gap-2 col-span-full lg:gap-2 mt-5"},De={class:"col-span-8 lg:col-span-9"},Fe={class:"col-span-4 lg:col-span-3"},Oe={class:"grid grid-cols-12 gap-2 mt-0 col-span-full"},Ue={class:"col-span-8 lg:col-span-9"},Te={class:"col-span-4 lg:col-span-3 flex items-end mb-0.5 justify-end"},Me={class:"grid grid-cols-12 gap-2 col-span-full py-2 my-2 border-t-2 border-b-2 lg:gap-2"},Ae={class:"col-span-6"},Se={class:"relative inline-flex items-center cursor-pointer"},Ee=["checked"],Ne=t("div",{class:"w-11 h-6 bg-green-600 rounded-full peer dark:bg-green-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Pe={class:"ml-3 text-gray-900 text-md font-normal dark:text-gray-500"},$e={class:"col-span-6"},Le={class:"relative inline-flex items-center cursor-pointer"},Be=["checked"],Ze=t("div",{class:"w-11 h-6 bg-green-600 rounded-full peer dark:bg-green-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),ze={class:"ml-3 text-gray-900 text-md font-normal dark:text-gray-500"},Ge={class:"grid grid-cols-12 mt-2 col-span-12 text-center"},Qe={class:"col-span-3 lg:col-span-6"},qe={class:"col-span-3 lg:col-span-2"},He={class:"col-span-3 lg:col-span-2"},Ke={class:"col-span-3 lg:col-span-2"},Je={class:"col-span-3 lg:col-span-6"},Re={class:"flex"},We={class:"rounded-none rounded-l inline-flex justify-center bg-red-600 text-base font-semibold text-white hover:bg-red-700"},Xe=["onClick"],Ye=t("i",{class:"fas fa-times"},null,-1),et=[Ye],tt={class:"col-span-3 lg:col-span-2"},ot={class:"flex"},at={class:"col-span-3 lg:col-span-2"},rt={class:"flex"},st={class:"col-span-3 lg:col-span-2"},lt={class:"flex"},dt={class:"col-span-12 lg:col-span-12"},nt={key:0,class:"grid grid-cols-12 gap-2 mt-0 col-span-12 lg:col-span-6 items-center"},it=t("div",{class:"col-span-12 lg:col-span-4"},null,-1),ct={class:"col-span-12 lg:col-span-3"},gt={class:"col-span-12 lg:col-span-2"},ut={class:"flex"},mt=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-l-0 border-gray-300 rounded-r-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-percentage"})],-1),pt={class:"col-span-12 lg:col-span-3"},bt={class:"flex"},_t=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-dollar-sign"})],-1),ft={class:"grid grid-cols-12 gap-2 mt-0 col-span-full"},xt={class:"col-span-12 lg:col-span-5 flex justify-start items-end"},yt={class:"col-span-6 lg:col-span-4 flex justify-end items-end"},vt={class:"col-span-6 lg:col-span-3"},ht={class:"flex"},kt=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-dollar-sign"})],-1),wt={class:"grid grid-cols-12 mt-0 col-span-full text-start"},Vt={class:"col-span-12 lg:col-span-8"},jt={class:"grid grid-cols-12 gap-3 col-span-full text-center"},Ct={class:"col-span-6 lg:col-span-8 flex pt-3 mt-3 justify-end"},It={class:"col-span-6 lg:col-span-4"},Dt={class:"flex"},Ft=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-dollar-sign"})],-1),Ot={key:0,class:"grid mt-3 grid-cols-12 gap-3 col-span-full text-center"},Ut={class:"col-span-6 lg:col-span-4 flex pt-3 mt-3 justify-end"},Tt={class:"col-span-6 lg:col-span-4"},Mt={class:"flex"},At=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-dollar-sign"})],-1),St=t("div",{class:"col-span-6 md:block lg:hidden lg:col-span-4"},null,-1),Et={class:"col-span-6 lg:col-span-4"},Nt={class:"flex"},Pt=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-credit-card"})],-1),$t={class:"grid mt-3 grid-cols-12 gap-3 col-span-full lg:col-span-12 text-center"},Lt={key:0,class:"col-span-6 lg:col-span-8 flex pt-3 mt-3 justify-end"},Bt={key:1,class:"col-span-6 lg:col-span-4"},Zt={class:"flex"},zt=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-dollar-sign"})],-1),Gt=t("div",{class:"col-span-12 lg:col-span-4 flex items-end justify-end"},null,-1),Qt=t("div",{class:"col-span-8 lg:col-span-4"},null,-1),qt={class:"col-span-4 lg:col-span-4"},Ht={class:"flex"},Kt=t("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[t("i",{class:"fas fa-dollar-sign"})],-1),Jt={key:1,class:"grid grid-cols-12 gap-2 col-span-full py-2 my-2 border-t-2 border-b-2 lg:gap-2"},Rt={class:"col-span-6"},Wt={class:"col-span-6"},Xt={class:"flex justify-end pt-5"},Yt={class:"p-4 mb-4 col-span-12 md:col-span-12 lg:col-span-6 bg-white rounded-lg border-gray-700 shadow dark:bg-gray-800 dark:border-gray-800 sm:p-4"},eo={class:"overflow-x-auto"},to={id:"tabla1",class:"pt-4 w-full text-xs text-center text-gray-600 dark:text-gray-400"},oo=t("thead",{class:"text-md text-center text-gray-700 bg-gray-200/80 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500 w-8 p-0"},[t("div",{class:"flex justify-center text-center"}," Imagen ")]),t("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[t("div",{class:"flex justify-center text-center"}," Nombre ")]),t("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500 w-8"},[t("div",{class:"flex justify-center"}," CÃ³digo ")]),t("th",{scope:"col",class:"p-0 m-0 border border-gray-300 dark:border-gray-500 w-8"},[t("div",{class:"flex justify-center"}," Stock ")]),t("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500 w-10"},[t("div",{class:"flex justify-center"}," Acciones ")])])],-1),ao={scope:"row",class:"p-0 m-0 border dark:border-gray-700"},ro={class:"flex justify-center"},so=["src"],lo={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},no={scope:"row",class:"p-1 border dark:border-gray-700"},io={scope:"row",class:"p-1 border dark:border-gray-700"},co={scope:"row",class:"p-1 border dark:border-gray-700"},go=["onClick","disabled"],F="Crear Venta",To={__name:"Create",setup(uo){D.use(D);const C=p([]),z=p(null),_=p(""),O=p([]),U=p([]),G={responsive:!1,language:xe},Q=()=>{ie(()=>{z.value=new D("#tabla1",G)})},q=()=>{},H=l=>{e.porcentaje_descuento=l,w(),k(),h()},k=()=>{e.descuento=(e.porcentaje_descuento*e.total/100).toFixed(2),e.total=(e.total-e.descuento).toFixed(2)},K=S(()=>b().props.clientes),J=S(()=>b().props.codigo);p({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!1,options:[{value:"INMEDIATA",label:"INMEDIATA"},{value:"DOMICILIO",label:"DOMICILIO"}]}),de(()=>{T.value.options=K,M.value.options=b().props.metodos_pago,U.value=b().props.metodos_pago,O.value=b().props.lista_clientes,C.value=b().props.productos.data,e.vendedor=b().props.vendedor,e.user_id=b().props.user_id,e.codigo=J,Q()});const e=ne({vendedor:"",user_id:"",codigo:"",neto:"",cliente_id:"",porcentaje_descuento:"",descuento:"0",metodo_pago:"EFECTIVO",metodo_pago_id:1,monto_efectivo:0,num_tarjeta:"",monto_tarjeta:0,productos:[],saldo:0,total:"0",cambio:"0",suma_pago:"0",tipo_pago:"CONTADO",forma_entrega:"INMEDIATA",hora:"",comentario:""}),R=(l,r)=>{if(l.target.value>0)e.productos[r].stock>=e.productos[r].cantidad?(e.productos[r].total=(parseFloat(e.productos[r].cantidad)*parseFloat(e.productos[r].precio)).toFixed(2),w(),k()):(e.productos[r].cantidad=1,e.productos[r].total=(parseFloat(e.productos[r].cantidad)*parseFloat(e.productos[r].precio)).toFixed(2),i("La cantidad supera el Stock","error"));else return},w=()=>{e.neto=e.productos.reduce((l,r)=>l+parseFloat(r.total),0).toFixed(2),e.total=e.productos.reduce((l,r)=>l+parseFloat(r.total),0).toFixed(2)},h=()=>{e.suma_pago=parseFloat(e.monto_efectivo)+parseFloat(e.monto_tarjeta);let l=parseFloat(e.total)-parseFloat(e.suma_pago);e.saldo=l.toFixed(2),W()},W=()=>{let l=parseFloat(e.monto_efectivo)-parseFloat(e.total);e.cambio=l.toFixed(2)},X=l=>{e.clearErrors(),_.value="",e.reset("metodo_pago","productos","total","porcentaje_descuento","porcentaje","saldo","suma_pago");var r=O.value.find(s=>s.id===l);_.value=r.tipo_cliente},Y=l=>{e.clearErrors(),e.metodo_pago_id=l,e.monto_efectivo=0,e.monto_tarjeta=0;var r=U.value.find(s=>s.value===l);e.metodo_pago=r.label,e.cambio=0},ee=l=>{l.target.checked?e.tipo_pago="CONTADO":e.tipo_pago="ABONO"},te=l=>{l.target.checked?(e.forma_entrega="INMEDIATA",e.metodo_pago_id="1"):(e.forma_entrega="DOMICILIO",e.metodo_pago_id="0")},oe=()=>{_.value="",e.reset("metodo_pago","productos","total")},ae=l=>{if(_.value!=""){var r=C.value.find(f=>f.id===l);if(r.stock>0){var s=_.value=="Minorista"?r.precio_venta:r.precio_mayorista;e.productos.push({producto_id:r.id,nombre:r.nombre,cantidad:1,stock:r.stock,precio:s.toFixed(2),total:s.toFixed(2)}),w(),k(),h()}else i("No hay stock disponible","error")}else i("Seleccione el cliente antes de agregar producto","error")},re=l=>{e.productos.splice(l,1),w(),k(),h()},T=p({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!0,options:[]}),i=(l,r)=>{_e.fire({width:350,title:l,icon:r})},M=p({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!1,options:[]}),I=p(""),se=()=>{if(e.metodo_pago_id==="0"&&e.forma_entrega!="DOMICILIO")return i(e.forma_entrega+"fdfsdf Debe indicar el mÃ©todo de pago.","warning"),!1;if(e.metodo_pago_id==1&&(e.monto_efectivo==0||e.monto_efectivo==""))return i("Debe ingresar el monto en efectivo","warning"),!1;if(e.metodo_pago_id==2&&(e.monto_tarjeta==0||e.monto_tarjeta==""||parseFloat(e.saldo)<0))return i("Debe ingresar el monto en tarjeta correcto","warning"),!1;if(e.metodo_pago_id==3){if(e.monto_tarjeta==0||e.monto_tarjeta=="")return i("Debe ingresar el monto en tarjeta","warning"),!1;if(e.monto_efectivo==0||e.monto_efectivo=="")return i("Debe ingresar el monto en efectivo","warning"),!1;if(e.metodo_pago_id==0||e.metodo_pago_id=="")return i("Debe ingresar el mÃ©todo de pago","warning"),!1;if(parseFloat(e.saldo))return i("El saldo a favor del cliente no aplica para pagos con tarjeta","warning"),!1}if(parseFloat(e.saldo)>0&&e.forma_entrega==="INMEDIATA"&&e.tipo_pago!="ABONO")return i("El monto ingresado es distinto al monto total","warning"),!1;if(e.hora==""&&e.forma_entrega==="DOMICILIO"&&e.comentario=="")return i("Debe indicar la hora y comentario.","warning"),!1;e.clearErrors(),e.post(route("ventas.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{I.value=b().props.flash.success,I.value!==null&&window.open(route("ventas.generar_ticket",I.value),"_blank"),_.value="",e.reset("metodo_pago","productos","total","porcentaje_descuento","porcentaje","saldo","suma_pago")},onFinish:()=>{},onError:()=>{}})};return(l,r)=>(u(),m("div",null,[a(o(ce),{title:F}),a(pe,null,{default:y(()=>[t("div",ke,[a(o(be),null,{default:y(()=>[a(o(B),{href:"/",home:""},{default:y(()=>[j(" Inicio ")]),_:1}),a(o(B),null,{default:y(()=>[j(x(F))]),_:1})]),_:1})]),t("div",we,[t("div",Ve,[t("div",{class:"px-5 col-span-full flex justify-center items-center"},[t("h1",{class:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white"},x(F))]),t("form",{onSubmit:E(se,["prevent"])},[t("div",Ce,[t("div",Ie,[t("div",De,[a(d,{for:"vendedor",value:"Usuario",class:"block text-base font-medium leading-6 text-gray-900"}),a(n,{id:"vendedor",type:"text",class:"rounded bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white font-bold disabled:bg-gray-200",modelValue:o(e).vendedor,"onUpdate:modelValue":r[0]||(r[0]=s=>o(e).vendedor=s),disabled:""},null,8,["modelValue"]),a(g,{class:"mt-1 text-xs w-full",message:o(e).errors.vendedor},null,8,["message"])]),t("div",Fe,[a(d,{for:"codigo",value:"CÃ³digo",class:"block text-base font-medium leading-6 text-gray-900"}),a(n,{id:"codigo",type:"text",class:"rounded bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 text-center dark:text-white font-bold disabled:bg-gray-200",modelValue:o(e).codigo,"onUpdate:modelValue":r[1]||(r[1]=s=>o(e).codigo=s),disabled:""},null,8,["modelValue"]),a(g,{class:"mt-1 text-xs w-full",message:o(e).errors.codigo},null,8,["message"])])]),t("div",Oe,[t("div",Ue,[a(d,{for:"cliente_id",value:"Cliente -- "+_.value,class:"block text-base font-medium leading-6 text-gray-900"},null,8,["value"]),a(o(Z),N({id:"cliente_id",modelValue:o(e).cliente_id,"onUpdate:modelValue":r[2]||(r[2]=s=>o(e).cliente_id=s)},T.value,{onClear:oe,onSelect:X}),null,16,["modelValue"]),a(g,{class:"mt-1 text-xs",message:o(e).errors.cliente_id},null,8,["message"])]),t("div",Te,[a(ve,{onCreado:q})])]),t("div",Me,[t("div",Ae,[a(d,{for:"tipo_pago",value:"CondiciÃ³n de pago",class:"block text-sm font-medium leading-6 text-gray-900"}),t("label",Se,[t("input",{onChange:ee,type:"checkbox",value:"",class:"sr-only peer",checked:o(e).tipo_pago=="CONTADO"},null,40,Ee),Ne,t("span",Pe,x(o(e).tipo_pago),1)])]),t("div",$e,[a(d,{for:"forma_entrega",value:"Forma de entrega",class:"block text-sm font-medium leading-6 text-gray-900"}),t("label",Le,[t("input",{onChange:te,type:"checkbox",value:"",class:"sr-only peer",checked:o(e).forma_entrega=="INMEDIATA"},null,40,Be),Ze,t("span",ze,x(o(e).forma_entrega),1)])])]),t("div",Ge,[t("div",Qe,[a(d,{value:"Item",class:"m-0 text-md font-medium leading-6 text-gray-900"})]),t("div",qe,[a(d,{value:"Precio",class:"m-0 text-md font-medium leading-6 text-gray-900"})]),t("div",He,[a(d,{value:"Cantidad",class:"m-0 text-md font-medium leading-6 text-gray-900"})]),t("div",Ke,[a(d,{value:"Subtotal",class:"m-0 text-md font-medium leading-6 text-gray-900"})])]),(u(!0),m(P,null,$(o(e).productos,(s,f)=>(u(),m("div",{key:f,class:"grid grid-cols-12 gap-2 col-span-full"},[t("div",Je,[t("div",Re,[t("span",We,[t("button",{onClick:E(c=>re(f),["prevent"]),class:"w-6"},et,8,Xe)]),a(n,{disabled:"",class:"rounded-none rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"text",modelValue:s.nombre,"onUpdate:modelValue":c=>s.nombre=c},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",tt,[t("div",ot,[a(n,{disabled:"",class:"rounded text-end text-xs bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"text",modelValue:s.precio,"onUpdate:modelValue":c=>s.precio=c},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",at,[t("div",rt,[a(n,{class:"rounded text-end bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"number",min:"1",step:"1",modelValue:s.cantidad,"onUpdate:modelValue":c=>s.cantidad=c,onInput:c=>R(c,f)},null,8,["modelValue","onUpdate:modelValue","onInput"])])]),t("div",st,[t("div",lt,[a(n,{disabled:"",class:"rounded text-end bg-gray-50 text-xs border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"text",modelValue:s.total,"onUpdate:modelValue":c=>s.total=c},null,8,["modelValue","onUpdate:modelValue"])])])]))),128)),t("div",dt,[a(g,{class:"mt-1 text-xs w-full",message:o(e).errors.productos},null,8,["message"])]),o(e).porcentaje_descuento>0?(u(),m("div",nt,[it,t("div",ct,[a(d,{for:"descuento",value:"Descuento",class:"block text-base text-end font-normal leading-6 text-gray-900"})]),t("div",gt,[t("div",ut,[a(n,{disabled:"",class:"rounded-none rounded-l bg-gray-50 border border-gray-300 text-gray-900 disabled:bg-gray-200 text-end min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"text",modelValue:o(e).porcentaje_descuento,"onUpdate:modelValue":r[3]||(r[3]=s=>o(e).porcentaje_descuento=s)},null,8,["modelValue"]),mt])]),t("div",pt,[t("div",bt,[_t,a(n,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(e).descuento,"onUpdate:modelValue":r[4]||(r[4]=s=>o(e).descuento=s)},null,8,["modelValue"])]),a(g,{class:"mt-1 text-xs w-full",message:o(e).errors.descuento},null,8,["message"])])])):v("",!0),t("div",ft,[t("div",xt,[o(e).total>0?(u(),ge(he,{key:0,onValDescuento:H})):v("",!0)]),t("div",yt,[a(d,{for:"total",value:"Total a pagar",class:"block text-base font-normal leading-6 text-gray-900"})]),t("div",vt,[t("div",ht,[kt,a(n,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(e).total,"onUpdate:modelValue":r[5]||(r[5]=s=>o(e).total=s)},null,8,["modelValue"])]),a(g,{class:"mt-1 text-xs w-full",message:o(e).errors.total},null,8,["message"])])]),t("div",wt,[t("div",Vt,[a(d,{for:"metodos",value:"MÃ©todos de Pago",class:"block text-md font-medium leading-6 text-gray-900"}),a(o(Z),N({modelValue:o(e).metodo_pago_id,"onUpdate:modelValue":r[6]||(r[6]=s=>o(e).metodo_pago_id=s)},M.value,{onSelect:Y}),null,16,["modelValue"])]),t("div",jt,[t("div",Ct,[a(d,{value:"Efectivo:",class:"m-1 pb-0 text-xs font-medium leading-6 text-gray-900"})]),t("div",It,[a(d,{for:"monto",value:"Monto",class:"block mb-0 text-xs font-normal leading-6 text-gray-900"}),t("div",Dt,[Ft,a(n,{disabled:o(e).metodo_pago_id==2,class:"rounded bg-gray-50 border border-gray-300 text-gray-900 text-end min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"number",step:"0.1",modelValue:o(e).monto_efectivo,"onUpdate:modelValue":r[7]||(r[7]=s=>o(e).monto_efectivo=s),onInput:h},null,8,["disabled","modelValue"])]),a(g,{class:"mt-1 text-start w-full",message:o(e).errors.monto_efectivo},null,8,["message"])])]),o(e).metodo_pago_id==2||o(e).metodo_pago_id==3?(u(),m("div",Ot,[t("div",Ut,[a(d,{value:"Tarjeta Debito/Credito:",class:"m-1 pb-0 text-xs font-medium leading-6 text-gray-900"})]),t("div",Tt,[a(d,{for:"monto",value:"Monto",class:"block text-xs font-normal leading-6 text-gray-900"}),t("div",Mt,[At,a(n,{class:"rounded bg-gray-50 border border-gray-300 text-gray-900 text-end min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"number",step:"0.1",modelValue:o(e).monto_tarjeta,"onUpdate:modelValue":r[8]||(r[8]=s=>o(e).monto_tarjeta=s),onInput:h},null,8,["modelValue"])]),a(g,{class:"mt-1 text-start w-full",message:o(e).errors.monto_tarjeta},null,8,["message"])]),St,t("div",Et,[a(d,{for:"tarjeta",value:"Tres Ãºltimos digitos",class:"block text-xs font-normal leading-6 text-gray-900"}),t("div",Nt,[Pt,a(n,{class:"rounded-none rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"text",modelValue:o(e).num_tarjeta,"onUpdate:modelValue":r[9]||(r[9]=s=>o(e).num_tarjeta=s)},null,8,["modelValue"])]),a(g,{class:"mt-1 text-start w-full",message:o(e).errors.num_tarjeta},null,8,["message"])])])):v("",!0),t("div",$t,[o(e).cambio>0?(u(),m("div",Lt)):v("",!0),o(e).cambio>0?(u(),m("div",Bt,[a(d,{for:"Cambio",value:"Cambio",class:"block text-xs font-normal leading-6 text-gray-900"}),t("div",Zt,[zt,a(n,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(e).cambio,"onUpdate:modelValue":r[10]||(r[10]=s=>o(e).cambio=s)},null,8,["modelValue"])])])):v("",!0),Gt,Qt,t("div",qt,[a(d,{for:"saldo",value:"Saldo",class:"block text-xs font-normal leading-6 text-gray-900"}),t("div",Ht,[Kt,a(n,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(e).saldo,"onUpdate:modelValue":r[11]||(r[11]=s=>o(e).saldo=s)},null,8,["modelValue"])]),a(g,{class:"mt-1 text-xs w-full",message:o(e).errors.saldo},null,8,["message"])])])]),o(e).forma_entrega=="DOMICILIO"?(u(),m("div",Jt,[t("div",Rt,[a(d,{for:"hora",value:"Hora",class:"block text-base font-medium leading-6 text-gray-900"}),a(n,{id:"hora",type:"time",modelValue:o(e).hora,"onUpdate:modelValue":r[12]||(r[12]=s=>o(e).hora=s)},null,8,["modelValue"]),a(g,{class:"mt-1 text-xs",message:o(e).errors.hora},null,8,["message"])]),t("div",Wt,[a(d,{for:"comentario",value:"Comentario",class:"block text-base font-medium leading-6 text-gray-900"}),ue(t("textarea",{id:"comentario",placeholder:"Comentario","onUpdate:modelValue":r[13]||(r[13]=s=>o(e).comentario=s),class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md rounded p-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-primary-500",rows:"2",cols:"50"},null,512),[[me,o(e).comentario]]),a(g,{class:"mt-1 text-xs",message:o(e).errors.comentario},null,8,["message"])])])):v("",!0)]),t("div",Xt,[a(ye,{class:L(["inline-block rounded bg-blue-600 p-2 text-sm font-semibold text-white mr-1 mb-1 hover:bg-blue-700",{"opacity-50":o(e).processing}]),disabled:o(e).processing},{default:y(()=>[j(" Guardar Venta ")]),_:1},8,["class","disabled"])])],40,je)])]),t("div",Yt,[t("div",eo,[t("table",to,[oo,t("tbody",null,[(u(!0),m(P,null,$(C.value,({id:s,nombre:f,imagen_1:c,codigo:le,stock:A,precio_compra:mo,precio_venta:po,precio_mayorista:bo},_o)=>(u(),m("tr",{key:s,class:"bg-white text-center dark:bg-gray-800 dark:border-gray-700"},[t("td",ao,[t("div",ro,[t("img",{class:"rounded shadow-2xl border-2 w-12 h-12 object-contain",src:c,alt:"image description"},null,8,so)])]),t("th",lo,x(f),1),t("td",no,x(le),1),t("td",io,[a(fe,{cantidad:A},{default:y(()=>[j(x(A),1)]),_:2},1032,["cantidad"])]),t("td",co,[t("span",{class:L([o(e).productos.filter(V=>V.producto_id===s).length>0?"bg-blue-400":" bg-blue-600 hover:bg-blue-700","inline-block rounded px-2 py-1 text-xs font-normal text-white mr-1 mb-1"])},[t("button",{onClick:V=>ae(s),disabled:o(e).productos.filter(V=>V.producto_id===s).length>0},"Agregar",8,go)],2)])]))),128))])])])])]),_:1})]))}};export{To as default};
