import{k as m,T as U,J as _,L as E,m as Y,n as N,s,p as a,w as x,z as O,u as o,A as $,C as D,t as F,a as T,O as z}from"./vendor9df2f612.js";import{_ as i}from"./InputError36fdb8dd.js";import{_ as c}from"./InputLabel7da40d8f.js";import{_ as A}from"./Modale28fe8ea.js";import{s as B}from"./multiselectf73eb494.js";import{_ as d}from"./TextInputaca9d9c1.js";import{_ as G}from"./PrimaryButton0ecc7f29.js";import{S as P}from"./sweetalert2.all2e5f4a54.js";import{i as R}from"./es.es96ee115e.js";const j=s("i",{class:"fas fa-edit"},null,-1),X=[j],J={class:"p-2"},L=s("div",{class:"p-4 mb-4 rounded-t flex justify-between items-center border-b border-gray-200 dark:border-gray-600"},[s("h2",{class:"text-lg font-medium text-gray-900"}," Editar Cliente ")],-1),q=["onSubmit"],H={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},K={class:"col-span-6 shadow-default xl:col-span-3"},Q={class:"col-span-6 shadow-default xl:col-span-3"},W={class:"col-span-6 shadow-default xl:col-span-3"},Z={class:"col-span-6 shadow-default xl:col-span-3"},ee={class:"col-span-6 shadow-default xl:col-span-3 z-50"},ae={class:"col-span-6 shadow-default xl:col-span-3"},oe={class:"col-span-6 shadow-default xl:col-span-3"},le={class:"col-span-6 shadow-default xl:col-span-3"},se={class:"col-span-6 shadow-default xl:col-span-3"},te={class:"col-span-6 shadow-default xl:col-span-3"},re={class:"flex justify-end pt-0"},be={__name:"EditarModal",props:{clienteId:{type:Number,default:null}},setup(y){const h=y,f=m(!1),p=m(),u=m(""),g=m(""),e=U({id:"",nombre:"",rfc:"",email:"",telefono:"",casa_direccion:"",casa_colonia:"",oficina_direccion:"",oficina_colonia:"",fecha_nacimiento:"",tipo_cliente:""}),v=m({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!0,options:[{value:"Minorista",label:"Minorista"},{value:"Mayorista",label:"Mayorista"}]});_(u,()=>e.oficina_colonia=u.value),_(g,()=>e.casa_colonia=g.value);const k=n=>{u.value=n.name},w=n=>{g.value=n.name},V=n=>{e.fecha_nacimiento=n,p.value=n},C=()=>{M(h.clienteId)},M=n=>{T.get(route("clientes.show",n)).then(l=>{f.value=!0;var r=l.data.data;p.value=r.fecha_nacimiento,e.id=r.id,e.nombre=r.nombre,e.rfc=r.rfc,e.email=r.email,e.telefono=r.telefono,e.casa_direccion=r.casa_direccion,e.casa_colonia=r.casa_colonia,e.oficina_direccion=r.oficina_direccion,e.oficina_colonia=r.oficina_colonia,e.fecha_nacimiento=r.fecha_nacimiento,e.tipo_cliente=r.tipo_cliente})},b=()=>{f.value=!1,e.reset()},I=()=>{e.clearErrors(),e.post(route("clientes.update",e.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{f.value=!1,S("Cliente Editado"),z.get(route("clientes.index"))},onFinish:()=>{},onError:()=>{}})},S=n=>{e.reset(),P.fire({width:350,title:n,icon:"success"})};return(n,l)=>{const r=E("GMapAutocomplete");return Y(),N("section",null,[s("button",{type:"button",onClick:C},X),a(A,{show:f.value,onClose:b},{default:x(()=>[s("div",J,[L,s("form",{onSubmit:O(I,["prevent"])},[s("div",H,[s("div",K,[a(c,{for:"nombre",value:"Nombre",class:"block text-base font-medium leading-6 text-gray-900"}),a(d,{id:"nombre",type:"text",modelValue:o(e).nombre,"onUpdate:modelValue":l[0]||(l[0]=t=>o(e).nombre=t),autocomplete:"nombre",placeholder:"Ingrese nombre"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.nombre},null,8,["message"])]),s("div",Q,[a(c,{for:"rfc",value:"RFC",class:"block text-base font-medium leading-6 text-gray-900"}),a(d,{id:"rfc",type:"text",modelValue:o(e).rfc,"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).rfc=t),autocomplete:"rfc",placeholder:"Ingrese rfc"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.rfc},null,8,["message"])]),s("div",W,[a(c,{for:"email",value:"Email",class:"block text-base font-medium leading-6 text-gray-900"}),a(d,{id:"email",type:"email",modelValue:o(e).email,"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).email=t),placeholder:"Ingrese email",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.email},null,8,["message"])]),s("div",Z,[a(c,{for:"telefono",value:"Télefono",class:"block text-base font-medium leading-6 text-gray-900"}),a(d,{id:"telefono",type:"text",modelValue:o(e).telefono,"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).telefono=t),placeholder:"Ingrese telefono",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.telefono},null,8,["message"])]),s("div",ee,[a(c,{for:"fecha_nacimiento",value:"Fecha de nacimiento",class:"block text-base font-medium leading-6 text-gray-900"}),a(o(R),{value:p.value,"onUpdate:value":l[4]||(l[4]=t=>p.value=t),"value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",type:"date",onChange:V,lang:"es",placeholder:"Seleccione fecha"},null,8,["value"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.fecha_nacimiento},null,8,["message"])]),s("div",ae,[a(c,{for:"tipo_cliente",value:"Tipo de cliente",class:"block text-base font-medium leading-6 text-gray-900"}),a(o(B),$({id:"tipo_cliente",modelValue:o(e).tipo_cliente,"onUpdate:modelValue":l[5]||(l[5]=t=>o(e).tipo_cliente=t)},v.value),null,16,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.tipo_cliente},null,8,["message"])]),s("div",oe,[a(c,{for:"casa_direccion",value:"Casa dirección",class:"block text-base font-medium leading-6 text-gray-900"}),a(d,{id:"casa_direccion",type:"text",modelValue:o(e).casa_direccion,"onUpdate:modelValue":l[6]||(l[6]=t=>o(e).casa_direccion=t),autocomplete:"casa_direccion",placeholder:"Ingrese casa direccion"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.casa_direccion},null,8,["message"])]),s("div",le,[a(c,{for:"casa_colonia",value:"Casa colonia",class:"block text-base font-medium leading-6 text-gray-900"}),a(r,{class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md rounded focus:ring-primary-500 focus:border-primary-500 block w-full p-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Ingrese casa colonia",onPlace_changed:w,value:o(e).casa_colonia,options:{types:["geocode"],componentRestrictions:{country:"MX"}}},null,8,["value"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.casa_colonia},null,8,["message"])]),s("div",se,[a(c,{for:"oficina_direccion",value:"Oficina dirección",class:"block text-base font-medium leading-6 text-gray-900"}),a(d,{id:"oficina_direccion",type:"text",modelValue:o(e).oficina_direccion,"onUpdate:modelValue":l[7]||(l[7]=t=>o(e).oficina_direccion=t),autocomplete:"oficina_direccion",placeholder:"Ingrese oficina direccion"},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.oficina_direccion},null,8,["message"])]),s("div",te,[a(c,{for:"oficina_colonia",value:"Oficina colonia",class:"block text-base font-medium leading-6 text-gray-900"}),a(r,{class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md rounded focus:ring-primary-500 focus:border-primary-500 block w-full p-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Ingrese oficina colonia",onPlace_changed:k,modelValue:u.value,"onUpdate:modelValue":l[8]||(l[8]=t=>u.value=t),value:o(e).oficina_colonia,options:{types:["geocode"],componentRestrictions:{country:"MX"}}},null,8,["modelValue","value"]),a(i,{class:"mt-1 text-xs",message:o(e).errors.oficina_colonia},null,8,["message"])])]),s("div",re,[s("button",{onClick:b,type:"button",class:"inline-block rounded bg-red-600 p-2 text-sm font-semibold text-white mr-4 mb-1 hover:bg-red-700"}," Cancelar "),a(G,{class:D(["inline-block rounded bg-blue-600 p-2 text-sm font-semibold text-white mr-1 mb-1 hover:bg-blue-700",{"opacity-50":o(e).processing}]),disabled:o(e).processing},{default:x(()=>[F(" Guardar ")]),_:1},8,["class","disabled"])])],40,q)])]),_:1},8,["show"])])}}};export{be as default};
