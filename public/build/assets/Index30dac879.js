import{k as i,K as j,o as A,T as B,m as h,n as y,p as a,u as d,w as _,q as P,Z as V,s as e,t as f,v as o,M as m,N as x,x as Z,y as E}from"./vendor9df2f612.js";import{_ as F,h as Q}from"./AuthenticatedLayouta4b2ee4f.js";import{Q as q,Z as C}from"./flowbite-vue17772b29.js";import"./sweetalert2.all2e5f4a54.js";import H from"./AsignarRepartidor43581029.js";import K from"./AsignarMultiplesPedidos08f227e7.js";import L from"./EditarModal362db149.js";import{D as k,l as U}from"./es-ESfe29d7f2.js";import{S as z}from"./sortable.esm0d19b1d3.js";import"./InputError36fdb8dd.js";import"./InputLabel7da40d8f.js";import"./Modale28fe8ea.js";import"./PrimaryButton0ecc7f29.js";import"./multiselectf73eb494.js";import"./TextInputaca9d9c1.js";import"./es.es96ee115e.js";const G={class:"ml-4 col-span-full"},J={class:"px-5 col-span-full flex justify-between items-center"},W={class:"p-4 mb-4 bg-white col-span-12 pb-5 rounded-lg shadow-sm 2xl:col-span-12 dark:border-gray-700 sm:p-4 dark:bg-gray-800"},X={class:"overflow-x-auto"},ee={class:"lg:inline-block min-w-full mt-4"},re={class:"overflow-hidden"},oe={id:"tabla1",class:"pt-3 w-full text-sm text-center text-gray-600 dark:text-gray-400"},se={class:"text-md text-center text-gray-700 bg-gray-200/80 dark:bg-gray-700 dark:text-gray-400"},te={scope:"col",class:"border border-gray-300 dark:border-gray-500"},ae={class:"flex justify-center"},de=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," ID ")],-1),ce=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center text-center"}," Orden ")],-1),le=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Cliente ")],-1),ne=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Pedido ")],-1),ie=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Calle ")],-1),_e=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Colonia ")],-1),be=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," TelÃ©fono ")],-1),ge=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Comentario ")],-1),pe=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Fecha ")],-1),ue=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Hora ")],-1),he=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Acciones ")],-1),ye=["data-id"],fe={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},me=["value","checked","onChange"],xe={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},ke={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},ve={scope:"row",class:"p-1 border dark:border-gray-700"},we={scope:"row",class:"p-1 border text-start dark:border-gray-700"},je={scope:"row",class:"p-1 border dark:border-gray-700"},Ce={scope:"row",class:"p-1 border dark:border-gray-700"},Ie={scope:"row",class:"p-1 border dark:border-gray-700"},Te={scope:"row",class:"p-1 border dark:border-gray-700"},De={scope:"row",class:"p-1 border dark:border-gray-700"},Oe={scope:"row",class:"p-1 border dark:border-gray-700"},Se={scope:"row",class:"p-1 flex justify-center border text-end dark:border-gray-700"},v="Pedidos",ze={__name:"Index",setup(Re){k.use(k);const l=i([]),I=i(null),w=i(null),{permissions:b}=j().props.auth,T={responsive:!0,language:U,order:[1,"desc"]},D=()=>{P(()=>{I.value=new k("#tabla1",T)})};setTimeout(()=>{route().current("pedidos.index")&&window.open(self.location,"_self")},6e4),A(()=>{l.value=j().props.pedidos,D(),new z(w.value,{animation:150,onEnd:s=>{const c=s.oldIndex,r=s.newIndex,n=l.value;n.splice(r,0,n.splice(c,1)[0]),l.value=n},ghostClass:"dragged-row",chosenClass:"dragged-row"})}),B({id:""});const g=i([]),t=i([]),O=s=>{s.target.checked?t.value=l.value.map(r=>r.id):t.value=[],g.value=t.value},S=s=>{t.value.includes(s)?t.value=t.value.filter(c=>c!==s):t.value=[...t.value,s],g.value=t.value};return(s,c)=>(h(),y("div",null,[a(d(V),{title:v}),a(F,null,{default:_(()=>[e("div",G,[a(d(q),null,{default:_(()=>[a(d(C),{href:"/",home:""},{default:_(()=>[f(" Inicio ")]),_:1}),a(d(C),null,{default:_(()=>[f(o(v))]),_:1})]),_:1})]),e("div",J,[e("h1",{class:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white"},o(v)),m(a(K,{selectedOrders:g.value},null,8,["selectedOrders"]),[[x,d(b).includes("asignar-repartidor")]])]),e("div",W,[e("div",X,[e("div",ee,[e("div",re,[e("table",oe,[e("thead",se,[e("tr",null,[e("th",te,[e("div",ae,[e("input",{type:"checkbox",class:"form-checkbox text-indigo-600 border-indigo-600 rounded-md",onChange:O},null,32)])]),de,ce,le,ne,ie,_e,be,ge,pe,ue,he])]),e("tbody",{ref_key:"sortableTable",ref:w,onUpdate:c[0]||(c[0]=(...r)=>s.onRowOrderChange&&s.onRowOrderChange(...r)),class:"sortable"},[(h(!0),y(Z,null,E(l.value,({id:r,telefono:n,venta:p,colonia:R,comentario:$,direccion:M,fecha:N,hora:Y},$e)=>(h(),y("tr",{key:r,class:"bg-white text-center dark:bg-gray-800 dark:border-gray-700","data-id":r},[e("td",fe,[e("input",{type:"checkbox",class:"form-checkbox text-indigo-600 border-indigo-600 rounded-md",value:r,checked:t.value.includes(r),onChange:u=>S(r)},null,40,me)]),e("th",xe,o(r),1),e("th",ke,o(p.codigo),1),e("td",ve,o(p.cliente.nombre),1),e("td",we,o(p.detalles_ventas.map(u=>"Cantidad: "+u.cantidad+" -- Producto: "+u.producto.nombre).join(" | ")),1),e("td",je,o(M),1),e("td",Ce,o(R),1),e("td",Ie,o(n),1),e("td",Te,o($),1),e("td",De,o(d(Q)(String(N)).format("DD/MM/YYYY")),1),e("td",Oe,o(Y),1),e("td",Se,[m(a(H,{"categoria-id":r},{default:_(()=>[f("Asignar ")]),_:2},1032,["categoria-id"]),[[x,d(b).includes("asignar-repartidor")]]),m(a(L,{"cliente-id":r},null,8,["cliente-id"]),[[x,d(b).includes("editar-pedidos")]])])],8,ye))),128))],544)])])])])])]),_:1})]))}};export{ze as default};
