import{k as g,G as M,o as re,K as u,T as le,m as p,n as m,p as a,u as o,w as x,q as de,Z as ne,s as e,t as v,v as b,z as N,A as E,x as P,y as $,B as h,D as ce,C as B,O as ie}from"./vendor9df2f612.js";import{_ as ge}from"./AuthenticatedLayouta4b2ee4f.js";import{Q as ue,Z}from"./flowbite-vue17772b29.js";import{S as pe}from"./sweetalert2.all2e5f4a54.js";import{_ as me}from"./StockColor17b58de9.js";import{s as L}from"./multiselectf73eb494.js";import{D as C,l as _e}from"./es-ESfe29d7f2.js";import{_ as be}from"./PrimaryButton0ecc7f29.js";import{_ as i}from"./InputError36fdb8dd.js";import{_ as d}from"./InputLabel7da40d8f.js";import{_ as c}from"./TextInputaca9d9c1.js";import xe from"./CrearClientExternoc2041f68.js";import fe from"./AgregarDescuentoModal62290a7b.js";import"./Modale28fe8ea.js";import"./es.es96ee115e.js";const ye={class:"ml-4 col-span-full"},ve={class:"p-4 mb-4 col-span-12 md:col-span-12 lg:col-span-6 bg-white rounded-lg border-gray-700 shadow dark:bg-gray-800 dark:border-gray-800 2xl:col-span-6 sm:p-4"},he=e("div",{class:"flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert"},[e("svg",{class:"flex-shrink-0 inline w-4 h-4 mr-3 mt-[2px]","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})]),e("span",{class:"sr-only"},"Danger"),e("div",null,[e("span",{class:"font-normal text-xs"},"Estimado usuario. Si usted modifica esta información, sepa que puede generar un descuadre entre los montos de venta y la suma de pagos o abonos realizados.")])],-1),ke=["onSubmit"],we={class:"px-2 grid grid-cols-12 gap-2 lg:gap-2 mt-0 mb-2"},Ve={class:"grid grid-cols-12 gap-2 col-span-full lg:gap-2 mt-5"},je={class:"col-span-8 lg:col-span-9"},Ce={class:"col-span-4 lg:col-span-3"},Fe={class:"grid grid-cols-12 gap-2 mt-0 col-span-full"},Ie={class:"col-span-8 lg:col-span-9"},De={class:"col-span-4 lg:col-span-3 flex items-end mb-0.5 justify-end"},Oe={class:"grid grid-cols-12 gap-2 col-span-full py-2 my-2 border-t-2 border-b-2 lg:gap-2"},Ue={class:"col-span-6 hidden"},Ae={class:"relative inline-flex items-center cursor-pointer"},Se=["checked"],Te=e("div",{class:"w-11 h-6 bg-green-600 rounded-full peer dark:bg-green-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Me={class:"ml-3 text-gray-900 text-md font-normal dark:text-gray-500"},Ne={class:"col-span-6"},Ee={class:"relative inline-flex items-center cursor-pointer"},Pe=["checked"],$e=e("div",{class:"w-11 h-6 bg-green-600 rounded-full peer dark:bg-green-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Be={class:"ml-3 text-gray-900 text-md font-normal dark:text-gray-500"},Ze={class:"grid grid-cols-12 mt-2 col-span-12 text-center"},Le={class:"col-span-3 lg:col-span-6"},ze={class:"col-span-3 lg:col-span-2"},qe={class:"col-span-3 lg:col-span-2"},Ge={class:"col-span-3 lg:col-span-2"},He={class:"col-span-3 lg:col-span-6"},Qe={class:"flex"},Ke={class:"rounded-none rounded-l inline-flex justify-center hidden bg-red-600 text-base font-semibold text-white hover:bg-red-700"},Je=["onClick"],Re=e("i",{class:"fas fa-times"},null,-1),We=[Re],Xe={class:"col-span-3 lg:col-span-2"},Ye={class:"flex"},et={class:"col-span-3 lg:col-span-2"},tt={class:"flex"},ot={class:"col-span-3 lg:col-span-2"},at={class:"flex"},st={class:"col-span-12 lg:col-span-12"},rt={key:0,class:"grid grid-cols-12 gap-2 mt-0 col-span-12 lg:col-span-6 items-center"},lt=e("div",{class:"col-span-12 lg:col-span-4"},null,-1),dt={class:"col-span-12 lg:col-span-3"},nt={class:"col-span-12 lg:col-span-2"},ct={class:"flex"},it=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-l-0 border-gray-300 rounded-r-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-percentage"})],-1),gt={class:"col-span-12 lg:col-span-3"},ut={class:"flex"},pt=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-dollar-sign"})],-1),mt={class:"grid grid-cols-12 gap-2 mt-0 col-span-full"},_t={class:"col-span-12 lg:col-span-5 flex justify-start items-end"},bt={class:"col-span-6 lg:col-span-4 flex justify-end items-end"},xt={class:"col-span-6 lg:col-span-3"},ft={class:"flex"},yt=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-dollar-sign"})],-1),vt={class:"grid grid-cols-12 mt-0 col-span-full text-start"},ht={class:"col-span-12 lg:col-span-8"},kt={class:"grid grid-cols-12 gap-3 col-span-full text-center"},wt={class:"col-span-6 lg:col-span-8 flex pt-3 mt-3 justify-end"},Vt={class:"col-span-6 lg:col-span-4"},jt={class:"flex"},Ct=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-dollar-sign"})],-1),Ft={key:0,class:"grid mt-3 grid-cols-12 gap-3 col-span-full text-center"},It={class:"col-span-6 lg:col-span-4 flex pt-3 mt-3 justify-end"},Dt={class:"col-span-6 lg:col-span-4"},Ot={class:"flex"},Ut=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-dollar-sign"})],-1),At=e("div",{class:"col-span-6 md:block lg:hidden lg:col-span-4"},null,-1),St={class:"col-span-6 lg:col-span-4"},Tt={class:"flex"},Mt=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-credit-card"})],-1),Nt={key:1,class:"grid mt-3 grid-cols-12 gap-3 col-span-full lg:col-span-12 text-center"},Et=e("div",{class:"col-span-12 lg:col-span-4 flex items-end justify-end"},null,-1),Pt=e("div",{class:"col-span-8 lg:col-span-4"},null,-1),$t={class:"col-span-4 lg:col-span-4"},Bt={class:"flex"},Zt=e("span",{class:"inline-flex w-6 justify-center items-center px-2 text-xs text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},[e("i",{class:"fas fa-dollar-sign"})],-1),Lt={class:"flex justify-end pt-5"},zt={class:"p-4 mb-4 col-span-12 md:col-span-12 lg:col-span-6 bg-white rounded-lg border-gray-700 shadow dark:bg-gray-800 dark:border-gray-800 sm:p-4"},qt={class:"overflow-x-auto"},Gt={id:"tabla1",class:"pt-4 w-full text-xs text-center text-gray-600 dark:text-gray-400"},Ht=e("thead",{class:"text-md text-center text-gray-700 bg-gray-200/80 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500 w-8 p-0"},[e("div",{class:"flex justify-center text-center"}," Imagen ")]),e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center text-center"}," Nombre ")]),e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500 w-8"},[e("div",{class:"flex justify-center"}," Código ")]),e("th",{scope:"col",class:"p-0 m-0 border border-gray-300 dark:border-gray-500 w-8"},[e("div",{class:"flex justify-center"}," Stock ")]),e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500 w-10"},[e("div",{class:"flex justify-center"}," Acciones ")])])],-1),Qt={scope:"row",class:"p-0 m-0 border dark:border-gray-700"},Kt={class:"flex justify-center"},Jt=["src"],Rt={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},Wt={scope:"row",class:"p-1 border dark:border-gray-700"},Xt={scope:"row",class:"p-1 border dark:border-gray-700"},Yt={scope:"row",class:"p-1 border dark:border-gray-700"},eo=["onClick","disabled"],F="Editar Venta",ko={__name:"Edit",setup(to){C.use(C);const k=g([]),z=g(null),f=g(""),w=g([]),I=g([]),q={responsive:!1,language:_e},G=()=>{de(()=>{z.value=new C("#tabla1",q)})},H=()=>{},Q=l=>{t.porcentaje_descuento=l,O(),D(),V()},D=()=>{t.descuento=(t.porcentaje_descuento*t.total/100).toFixed(2),t.total=(t.total-t.descuento).toFixed(2)},K=M(()=>u().props.clientes),J=M(()=>u().props.venta.codigo);g({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!1,options:[{value:"INMEDIATA",label:"INMEDIATA"},{value:"DOMICILIO",label:"DOMICILIO"}]}),re(()=>{let l=u().props.venta;A.value.options=K,S.value.options=u().props.metodos_pago,I.value=u().props.metodos_pago,w.value=u().props.lista_clientes,k.value=u().props.productos.data,t.vendedor=u().props.vendedor,t.user_id=l.user_id,t.cliente_id=l.cliente_id,t.codigo=J,t.tipo_pago=l.tipo_pago,t.forma_entrega=l.forma_entrega,t.porcentaje_descuento=l.porcentaje_descuento,t.monto_efectivo=l.pagos[0].monto_efectivo,t.monto_tarjeta=l.pagos[0].monto_tarjeta,t.descuento=l.descuento,t.id=l.id,t.productos=u().props.detalle_productos,t.metodo_pago=l.pagos[0].metodo_pago,t.metodo_pago_id=l.pagos[0].metodo_pago_id,t.pago_id=l.pagos[0].id,t.total=parseFloat(l.total).toFixed(2);var s=w.value.find(r=>r.id===l.cliente_id);f.value=s.tipo_cliente,G(),U()});const t=le({vendedor:"",user_id:"",codigo:"",pago_id:"",neto:"",cliente_id:"",porcentaje_descuento:"",descuento:"0",metodo_pago:"",metodo_pago_id:"",monto_efectivo:"",num_tarjeta:"",monto_tarjeta:"",productos:[],saldo:"0",total:"0",cambio:"0",suma_pago:"0",tipo_pago:"CONTADO",forma_entrega:"INMEDIATA"}),R=(l,s,r)=>{if(l.target.value>0){var _=k.value.find(n=>n.id===r);_.stock>=t.productos[s].cantidad?(t.productos[s].total=(parseFloat(t.productos[s].cantidad)*parseFloat(t.productos[s].precio)).toFixed(2),O(),D()):(t.productos[s].cantidad=1,t.productos[s].total=(parseFloat(t.productos[s].cantidad)*parseFloat(t.productos[s].precio)).toFixed(2),j("La cantidad supera el Stock","error"))}else return},O=()=>{t.neto=t.productos.reduce((l,s)=>l+parseFloat(s.total),0).toFixed(2),t.total=t.productos.reduce((l,s)=>l+parseFloat(s.total),0).toFixed(2)},V=()=>{t.suma_pago=parseFloat(t.monto_efectivo+t.monto_tarjeta).toFixed(2);let l=parseFloat(t.total)-parseFloat(t.suma_pago);t.saldo=l.toFixed(2),U()},U=()=>{t.cambio=parseFloat(t.monto_efectivo-t.total).toFixed(2)},W=l=>{t.clearErrors(),f.value="";var s=w.value.find(r=>r.id===l);f.value=s.tipo_cliente},X=l=>{t.clearErrors(),t.metodo_pago_id=l,t.monto_efectivo=0,t.monto_tarjeta=0;var s=I.value.find(r=>r.value===l);t.metodo_pago=s.label,t.cambio=0},Y=l=>{l.target.checked?t.tipo_pago="CONTADO":t.tipo_pago="ABONO"},ee=l=>{l.target.checked?t.forma_entrega="INMEDIATA":t.forma_entrega="DOMICILIO"},te=l=>(j("No es posible agregar productos a este documento","error"),!1),oe=l=>(j("No es posible remover productos a este documento","error"),!1),A=g({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!0,options:[]}),j=(l,s)=>{pe.fire({width:350,title:l,icon:s})},S=g({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!1,options:[]});g("");const ae=()=>{t.clearErrors(),t.post(route("ventas.update",t.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{ie.get(route("ventas.index")),t.reset("metodos_pago","productos","total","porcentaje_descuento","porcentaje","saldo","suma_pago")},onFinish:()=>{},onError:()=>{}})};return(l,s)=>(p(),m("div",null,[a(o(ne),{title:F}),a(ge,null,{default:x(()=>[e("div",ye,[a(o(ue),null,{default:x(()=>[a(o(Z),{href:"/",home:""},{default:x(()=>[v(" Inicio ")]),_:1}),a(o(Z),null,{default:x(()=>[v(b(F))]),_:1})]),_:1})]),e("div",ve,[he,e("div",{class:"px-5 col-span-full flex justify-center items-center"},[e("h1",{class:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white"},b(F))]),e("form",{onSubmit:N(ae,["prevent"])},[e("div",we,[e("div",Ve,[e("div",je,[a(d,{for:"vendedor",value:"Usuario",class:"block text-base font-medium leading-6 text-gray-900"}),a(c,{id:"vendedor",type:"text",class:"rounded bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white font-bold disabled:bg-gray-200",modelValue:o(t).vendedor,"onUpdate:modelValue":s[0]||(s[0]=r=>o(t).vendedor=r),disabled:""},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs w-full",message:o(t).errors.vendedor},null,8,["message"])]),e("div",Ce,[a(d,{for:"codigo",value:"Código",class:"block text-base font-medium leading-6 text-gray-900"}),a(c,{id:"codigo",type:"text",class:"rounded bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 text-center dark:text-white font-bold disabled:bg-gray-200",modelValue:o(t).codigo,"onUpdate:modelValue":s[1]||(s[1]=r=>o(t).codigo=r),disabled:""},null,8,["modelValue"]),a(i,{class:"mt-1 text-xs w-full",message:o(t).errors.codigo},null,8,["message"])])]),e("div",Fe,[e("div",Ie,[a(d,{for:"cliente_id",value:"Cliente -- "+f.value,class:"block text-base font-medium leading-6 text-gray-900"},null,8,["value"]),a(o(L),E({id:"cliente_id",modelValue:o(t).cliente_id,"onUpdate:modelValue":s[2]||(s[2]=r=>o(t).cliente_id=r)},A.value,{onSelect:W}),null,16,["modelValue"]),a(i,{class:"mt-1 text-xs",message:o(t).errors.cliente_id},null,8,["message"])]),e("div",De,[a(xe,{onCreado:H})])]),e("div",Oe,[e("div",Ue,[a(d,{for:"tipo_pago",value:"Condición de pago",class:"block text-sm font-medium leading-6 text-gray-900"}),e("label",Ae,[e("input",{onChange:Y,type:"checkbox",value:"",class:"sr-only peer",checked:o(t).tipo_pago=="CONTADO"},null,40,Se),Te,e("span",Me,b(o(t).tipo_pago),1)])]),e("div",Ne,[a(d,{for:"forma_entrega",value:"Forma de entrega",class:"block text-sm font-medium leading-6 text-gray-900"}),e("label",Ee,[e("input",{onChange:ee,type:"checkbox",value:"",class:"sr-only peer",checked:o(t).forma_entrega=="INMEDIATA"},null,40,Pe),$e,e("span",Be,b(o(t).forma_entrega),1)])])]),e("div",Ze,[e("div",Le,[a(d,{value:"Item",class:"m-0 text-md font-medium leading-6 text-gray-900"})]),e("div",ze,[a(d,{value:"Precio",class:"m-0 text-md font-medium leading-6 text-gray-900"})]),e("div",qe,[a(d,{value:"Cantidad",class:"m-0 text-md font-medium leading-6 text-gray-900"})]),e("div",Ge,[a(d,{value:"Subtotal",class:"m-0 text-md font-medium leading-6 text-gray-900"})])]),(p(!0),m(P,null,$(o(t).productos,(r,_)=>(p(),m("div",{key:_,class:"grid grid-cols-12 gap-2 col-span-full"},[e("div",He,[e("div",Qe,[e("span",Ke,[e("button",{onClick:N(n=>oe(_),["prevent"]),class:"w-6"},We,8,Je)]),a(c,{disabled:"",class:"rounded-none rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"text",modelValue:r.nombre,"onUpdate:modelValue":n=>r.nombre=n},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",Xe,[e("div",Ye,[a(c,{disabled:"",class:"rounded text-end text-xs bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"text",modelValue:r.precio,"onUpdate:modelValue":n=>r.precio=n},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",et,[e("div",tt,[a(c,{class:"rounded text-end bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"number",min:"1",step:"1",readonly:"",modelValue:r.cantidad,"onUpdate:modelValue":n=>r.cantidad=n,onInput:n=>R(n,_)},null,8,["modelValue","onUpdate:modelValue","onInput"])])]),e("div",ot,[e("div",at,[a(c,{disabled:"",class:"rounded text-end bg-gray-50 text-xs border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"text",modelValue:r.total,"onUpdate:modelValue":n=>r.total=n},null,8,["modelValue","onUpdate:modelValue"])])])]))),128)),e("div",st,[a(i,{class:"mt-1 text-xs w-full",message:o(t).errors.productos},null,8,["message"])]),o(t).porcentaje_descuento>0?(p(),m("div",rt,[lt,e("div",dt,[a(d,{for:"descuento",value:"Descuento",class:"block text-base text-end font-normal leading-6 text-gray-900"})]),e("div",nt,[e("div",ct,[a(c,{disabled:"",class:"rounded-none rounded-l bg-gray-50 border border-gray-300 text-gray-900 disabled:bg-gray-200 text-end min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"text",modelValue:o(t).porcentaje_descuento,"onUpdate:modelValue":s[3]||(s[3]=r=>o(t).porcentaje_descuento=r)},null,8,["modelValue"]),it])]),e("div",gt,[e("div",ut,[pt,a(c,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(t).descuento,"onUpdate:modelValue":s[4]||(s[4]=r=>o(t).descuento=r)},null,8,["modelValue"])]),a(i,{class:"mt-1 text-xs w-full",message:o(t).errors.descuento},null,8,["message"])])])):h("",!0),e("div",mt,[e("div",_t,[o(t).total>0?(p(),ce(fe,{key:0,onValDescuento:Q})):h("",!0)]),e("div",bt,[a(d,{for:"total",value:"Total a pagar",class:"block text-base font-normal leading-6 text-gray-900"})]),e("div",xt,[e("div",ft,[yt,a(c,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(t).total,"onUpdate:modelValue":s[5]||(s[5]=r=>o(t).total=r)},null,8,["modelValue"])]),a(i,{class:"mt-1 text-xs w-full",message:o(t).errors.total},null,8,["message"])])]),e("div",vt,[e("div",ht,[a(d,{for:"metodos",value:"Métodos de Pago",class:"block text-md font-medium leading-6 text-gray-900"}),a(o(L),E({modelValue:o(t).metodo_pago_id,"onUpdate:modelValue":s[6]||(s[6]=r=>o(t).metodo_pago_id=r)},S.value,{onSelect:X,disabled:""}),null,16,["modelValue"])]),e("div",kt,[e("div",wt,[a(d,{value:"Efectivo:",class:"m-1 pb-0 text-xs font-medium leading-6 text-gray-900",readonly:""})]),e("div",Vt,[a(d,{for:"monto",value:"Monto",class:"block mb-0 text-xs font-normal leading-6 text-gray-900",readonly:""}),e("div",jt,[Ct,a(c,{disabled:o(t).metodo_pago_id==2,class:"rounded bg-gray-50 border border-gray-300 text-gray-900 text-end min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"number",step:"0.1",modelValue:o(t).monto_efectivo,"onUpdate:modelValue":s[7]||(s[7]=r=>o(t).monto_efectivo=r),onInput:V,readonly:""},null,8,["disabled","modelValue"])]),a(i,{class:"mt-1 text-start w-full",message:o(t).errors.monto_efectivo,readonly:""},null,8,["message"])])]),o(t).metodo_pago_id==2||o(t).metodo_pago_id==3?(p(),m("div",Ft,[e("div",It,[a(d,{value:"Tarjeta Debito/Credito:",class:"m-1 pb-0 text-xs font-medium leading-6 text-gray-900"})]),e("div",Dt,[a(d,{for:"monto",value:"Monto",class:"block text-xs font-normal leading-6 text-gray-900"}),e("div",Ot,[Ut,a(c,{class:"rounded bg-gray-50 border border-gray-300 text-gray-900 text-end min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"number",step:"0.1",modelValue:o(t).monto_tarjeta,"onUpdate:modelValue":s[8]||(s[8]=r=>o(t).monto_tarjeta=r),onInput:V},null,8,["modelValue"])]),a(i,{class:"mt-1 text-start w-full",message:o(t).errors.monto_tarjeta},null,8,["message"])]),At,e("div",St,[a(d,{for:"tarjeta",value:"Tres últimos digitos",class:"block text-xs font-normal leading-6 text-gray-900"}),e("div",Tt,[Mt,a(c,{class:"rounded-none rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",type:"text",modelValue:o(t).num_tarjeta,"onUpdate:modelValue":s[9]||(s[9]=r=>o(t).num_tarjeta=r)},null,8,["modelValue"])]),a(i,{class:"mt-1 text-start w-full",message:o(t).errors.num_tarjeta},null,8,["message"])])])):h("",!0),o(t).tipo_pago=="ABONO"?(p(),m("div",Nt,[Et,Pt,e("div",$t,[a(d,{for:"saldo",value:"Saldo",class:"block text-xs font-normal leading-6 text-gray-900"}),e("div",Bt,[Zt,a(c,{disabled:"",class:"rounded-none text-end rounded-r bg-gray-50 border border-gray-300 text-gray-900 min-w-0 w-full text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-200",type:"number",modelValue:o(t).saldo,"onUpdate:modelValue":s[10]||(s[10]=r=>o(t).saldo=r)},null,8,["modelValue"])]),a(i,{class:"mt-1 text-xs w-full",message:o(t).errors.saldo},null,8,["message"])])])):h("",!0)])]),e("div",Lt,[a(be,{class:B(["inline-block rounded bg-blue-600 p-2 text-sm font-semibold text-white mr-1 mb-1 hover:bg-blue-700",{"opacity-50":o(t).processing}]),disabled:o(t).processing},{default:x(()=>[v(" Guardar Venta ")]),_:1},8,["class","disabled"])])],40,ke)]),e("div",zt,[e("div",qt,[e("table",Gt,[Ht,e("tbody",null,[(p(!0),m(P,null,$(k.value,({id:r,nombre:_,imagen_1:n,codigo:se,stock:T,precio_compra:oo,precio_venta:ao,precio_mayorista:so},ro)=>(p(),m("tr",{key:r,class:"bg-white text-center dark:bg-gray-800 dark:border-gray-700"},[e("td",Qt,[e("div",Kt,[e("img",{class:"rounded shadow-2xl border-2 w-12 h-12 object-contain",src:n,alt:"image description"},null,8,Jt)])]),e("th",Rt,b(_),1),e("td",Wt,b(se),1),e("td",Xt,[a(me,{cantidad:T},{default:x(()=>[v(b(T),1)]),_:2},1032,["cantidad"])]),e("td",Yt,[e("span",{class:B([o(t).productos.filter(y=>y.producto_id===r).length>0?"bg-blue-400":" bg-blue-600 hover:bg-blue-700","inline-block rounded px-2 py-1 text-xs font-normal text-white mr-1 mb-1"])},[e("button",{onClick:y=>te(r),disabled:o(t).productos.filter(y=>y.producto_id===r).length>0},"Agregar",8,eo)],2)])]))),128))])])])])]),_:1})]))}};export{ko as default};
