import{k as p,K as E,T as F,m as l,n as i,s as e,v as c,p as r,w as x,a as N,z as j,x as w,y,M as k,am as C,u as a,C as z,t as R,O as T}from"./vendor9df2f612.js";import{_ as S}from"./InputError36fdb8dd.js";import{_ as M}from"./InputLabel7da40d8f.js";import{_ as U}from"./Modale28fe8ea.js";import{_ as G}from"./PrimaryButton0ecc7f29.js";import{S as A}from"./sweetalert2.all2e5f4a54.js";import"./multiselectf73eb494.js";const K={class:"p-2"},L=["onSubmit"],P={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},W={class:"col-span-6 shadow-default xl:col-span-6"},q={class:"grid grid-cols-3 gap-4"},H=["id","value"],I=["for"],J={class:"col-span-6 shadow-default xl:col-span-6"},Q=e("hr",{class:"p-2"},null,-1),X={class:"grid grid-cols-3 gap-4"},Y=["id","value"],Z=["for"],ee={class:"flex justify-end pt-0"},_="Colonia",g="pedidos",de={__name:"AsignarMultiplesPedidos",props:{selectedOrders:Array},setup(O){const f=O,d=p(!1),{user:V}=E().props.auth,s=F({ruta_id:"",repartidor_id:"",responsable_id:"",selected_orders:""}),v=p({value:""}),b=p({value:""}),$=n=>{N.get(route(g+".asignar",n)).then(o=>{d.value=!0;var t=o.data;v.value=t.rutas,b.value=t.repartidores,s.responsable_id=V.id})},h=()=>{d.value=!1,s.reset()},B=()=>{f.selectedOrders.length>0?(s.selected_orders=f.selectedOrders,s.clearErrors(),s.post(route(g+".update-multiple"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{d.value=!1,D(_+" Asignada"),T.get(route(g+".index")),s.reset()},onFinish:()=>{},onError:()=>{}})):A.fire({icon:"warning",title:"Seleccione los pedidos antes de continuar",width:350})},D=n=>{s.reset(),A.fire({width:350,title:n,icon:"success"})};return(n,o)=>(l(),i("div",null,[e("button",{type:"button",class:"m-1 p-2 text-sm font-medium rounded text-center text-white bg-green-500 hover:bg-green-600 dark:bg-green-500 dark:hover:bg-green-700",onClick:$},"Asignar "+c(_)),r(U,{show:d.value,onClose:h,maxWidth:"md"},{default:x(()=>[e("div",K,[e("div",{class:"p-4 mb-4 rounded-t flex justify-between items-center border-b border-gray-200 dark:border-gray-600"},[e("h2",{class:"text-lg font-medium text-gray-900"}," Asignar "+c(_))]),e("form",{onSubmit:j(B,["prevent"])},[e("div",P,[e("div",W,[r(M,{value:"Colonias",class:"block text-base font-medium leading-6 text-gray-900"}),e("div",q,[(l(!0),i(w,null,y(v.value,(t,u)=>(l(),i("div",{key:u,class:"flex items-center space-x-2"},[k(e("input",{type:"radio",id:"ruta_"+t.value,"onUpdate:modelValue":o[0]||(o[0]=m=>a(s).ruta_id=m),value:t.value},null,8,H),[[C,a(s).ruta_id]]),e("label",{for:"ruta_"+t.value},c(t.label),9,I)]))),128))]),r(S,{class:"mt-1 text-xs",message:a(s).errors.ruta_id},null,8,["message"])]),e("div",J,[Q,r(M,{value:"Repartidor",class:"block text-base font-medium leading-6 text-gray-900"}),e("div",X,[(l(!0),i(w,null,y(b.value,(t,u)=>(l(),i("div",{key:u,class:"flex items-center space-x-2"},[k(e("input",{type:"radio",id:"repartidor_"+t.value,"onUpdate:modelValue":o[1]||(o[1]=m=>a(s).repartidor_id=m),value:t.value},null,8,Y),[[C,a(s).repartidor_id]]),e("label",{for:"repartidor_"+t.value},c(t.label),9,Z)]))),128))]),r(S,{class:"mt-1 text-xs",message:a(s).errors.repartidor_id},null,8,["message"])])]),e("div",ee,[e("button",{onClick:h,type:"button",class:"inline-block rounded bg-red-600 p-2 text-sm font-semibold text-white mr-4 mb-1 hover:bg-red-700"}," Cancelar "),r(G,{class:z(["inline-block rounded bg-blue-600 p-2 text-sm font-semibold text-white mr-1 mb-1 hover:bg-blue-700",{"opacity-50":a(s).processing}]),disabled:a(s).processing},{default:x(()=>[R(" Guardar ")]),_:1},8,["class","disabled"])])],40,L)])]),_:1},8,["show"])]))}};export{de as default};
