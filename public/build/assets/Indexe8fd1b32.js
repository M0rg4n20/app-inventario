import{k as i,K as j,o as A,T as B,m as y,n as m,p as a,u as d,w as _,q as P,Z as V,s as e,t as x,v as o,M as u,N as p,x as Z,y as E}from"./vendorb2c7101c.js";import{_ as F,h as Q}from"./AuthenticatedLayout4b68b4d2.js";import{Q as q,Z as C}from"./flowbite-vue4519d4b7.js";import"./sweetalert2.all5300f0ca.js";import H from"./AsignarRepartidord838110f.js";import K from"./AsignarMultiplesPedidosadb763f7.js";import L from"./EditarModald1c9bc33.js";import{D as k,l as U}from"./es-ESeb942a1a.js";import{S as z}from"./sortable.esm0d19b1d3.js";import G from"./AsignarRepartidorMultiple6635c211.js";import"./InputErrorb5789600.js";import"./InputLabel949fdd54.js";import"./Modal5c7d7f4d.js";import"./PrimaryButton2bb40203.js";import"./multiselect2742171c.js";import"./TextInput70c275a9.js";import"./es.es28b7c52d.js";const J={class:"ml-4 col-span-full"},W={class:"px-5 col-span-full flex justify-between items-center"},X={class:"content"},ee={class:"green"},re={class:"green"},oe={class:"p-4 mb-4 bg-white col-span-12 pb-5 rounded-lg shadow-sm 2xl:col-span-12 dark:border-gray-700 sm:p-4 dark:bg-gray-800"},se={class:"overflow-x-auto"},te={class:"lg:inline-block min-w-full mt-4"},ae={class:"overflow-hidden"},de={id:"tabla1",class:"pt-3 w-full text-sm text-center text-gray-600 dark:text-gray-400"},ce={class:"text-md text-center text-gray-700 bg-gray-200/80 dark:bg-gray-700 dark:text-gray-400"},le={scope:"col",class:"border border-gray-300 dark:border-gray-500"},ne={class:"flex justify-center"},ie=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," ID ")],-1),_e=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center text-center"}," Orden ")],-1),be=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Cliente ")],-1),ge=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Pedido ")],-1),ue=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Calle ")],-1),pe=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Colonia ")],-1),he=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," TelÃ©fono ")],-1),fe=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Comentario ")],-1),ye=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Fecha ")],-1),me=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Hora ")],-1),xe=e("th",{scope:"col",class:"border border-gray-300 dark:border-gray-500"},[e("div",{class:"flex justify-center"}," Acciones ")],-1),ke=["data-id"],ve={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},we=["value","checked","onChange"],je={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},Ce={scope:"row",class:"p-1 border dark:bg-gray-800 dark:border-gray-700 font-medium text-gray-900 dark:text-white"},Ie={scope:"row",class:"p-1 border dark:border-gray-700"},Oe={scope:"row",class:"p-1 border text-start dark:border-gray-700"},Te={scope:"row",class:"p-1 border dark:border-gray-700"},De={scope:"row",class:"p-1 border dark:border-gray-700"},Se={scope:"row",class:"p-1 border dark:border-gray-700"},$e={scope:"row",class:"p-1 border dark:border-gray-700"},Re={scope:"row",class:"p-1 border dark:border-gray-700"},Me={scope:"row",class:"p-1 border dark:border-gray-700"},Ne={scope:"row",class:"p-1 flex justify-center border text-end dark:border-gray-700"},v="Pedidos",er={__name:"Index",setup(Ye){k.use(k);const l=i([]),I=i(null),w=i(null),{permissions:b}=j().props.auth,O={responsive:!0,language:U,order:[1,"desc"]},T=()=>{P(()=>{I.value=new k("#tabla1",O)})};setTimeout(()=>{route().current("pedidos.index")&&window.open(self.location,"_self")},6e4),A(()=>{l.value=j().props.pedidos,T(),new z(w.value,{animation:150,onEnd:s=>{const c=s.oldIndex,r=s.newIndex,n=l.value;n.splice(r,0,n.splice(c,1)[0]),l.value=n},ghostClass:"dragged-row",chosenClass:"dragged-row"})}),B({id:""});const g=i([]),t=i([]),D=s=>{s.target.checked?t.value=l.value.map(r=>r.id):t.value=[],g.value=t.value},S=s=>{t.value.includes(s)?t.value=t.value.filter(c=>c!==s):t.value=[...t.value,s],g.value=t.value};return(s,c)=>(y(),m("div",null,[a(d(V),{title:v}),a(F,null,{default:_(()=>[e("div",J,[a(d(q),null,{default:_(()=>[a(d(C),{href:"/",home:""},{default:_(()=>[x(" Inicio ")]),_:1}),a(d(C),null,{default:_(()=>[x(o(v))]),_:1})]),_:1})]),e("div",W,[e("h1",{class:"text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white"},o(v)),e("div",X,[e("div",ee,[u(a(K,{selectedOrders:g.value},null,8,["selectedOrders"]),[[p,d(b).includes("asignar-repartidor")]])]),e("div",re,[u(a(G,{selectedOrders:g.value},null,8,["selectedOrders"]),[[p,d(b).includes("asignar-repartidor")]])])])]),e("div",oe,[e("div",se,[e("div",te,[e("div",ae,[e("table",de,[e("thead",ce,[e("tr",null,[e("th",le,[e("div",ne,[e("input",{type:"checkbox",class:"form-checkbox text-indigo-600 border-indigo-600 rounded-md",onChange:D},null,32)])]),ie,_e,be,ge,ue,pe,he,fe,ye,me,xe])]),e("tbody",{ref_key:"sortableTable",ref:w,onUpdate:c[0]||(c[0]=(...r)=>s.onRowOrderChange&&s.onRowOrderChange(...r)),class:"sortable"},[(y(!0),m(Z,null,E(l.value,({id:r,telefono:n,venta:h,colonia:$,comentario:R,direccion:M,fecha:N,hora:Y},Ae)=>(y(),m("tr",{key:r,class:"bg-white text-center dark:bg-gray-800 dark:border-gray-700","data-id":r},[e("td",ve,[e("input",{type:"checkbox",class:"form-checkbox text-indigo-600 border-indigo-600 rounded-md",value:r,checked:t.value.includes(r),onChange:f=>S(r)},null,40,we)]),e("th",je,o(r),1),e("th",Ce,o(h.codigo),1),e("td",Ie,o(h.cliente.nombre),1),e("td",Oe,o(h.detalles_ventas.map(f=>"Cantidad: "+f.cantidad+" -- Producto: "+f.producto.nombre).join(" | ")),1),e("td",Te,o(M),1),e("td",De,o($),1),e("td",Se,o(n),1),e("td",$e,o(R),1),e("td",Re,o(d(Q)(String(N)).format("DD/MM/YYYY")),1),e("td",Me,o(Y),1),e("td",Ne,[u(a(H,{"categoria-id":r},{default:_(()=>[x("Asignar ")]),_:2},1032,["categoria-id"]),[[p,d(b).includes("asignar-repartidor")]]),u(a(L,{"cliente-id":r},null,8,["cliente-id"]),[[p,d(b).includes("editar-pedidos")]])])],8,ke))),128))],544)])])])])])]),_:1})]))}};export{er as default};
