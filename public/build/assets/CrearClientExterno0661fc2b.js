import{k as u,J as b,T as U,L as S,m as I,n as Y,s as t,p as o,w as x,z as E,u as a,A as N,C as $,t as A}from"./vendorb2c7101c.js";import{_ as i}from"./InputErrorb5789600.js";import{_ as c}from"./InputLabel949fdd54.js";import{_ as D}from"./Modal5c7d7f4d.js";import{s as F}from"./multiselect2742171c.js";import{_ as r}from"./TextInput70c275a9.js";import{_ as O}from"./PrimaryButton2bb40203.js";import{S as T}from"./sweetalert2.all5300f0ca.js";import{i as z}from"./es.es28b7c52d.js";const B={class:"p-2"},G=t("div",{class:"p-4 mb-4 rounded-t flex justify-between items-center border-b border-gray-200 dark:border-gray-600"},[t("h2",{class:"text-lg font-medium text-gray-900"}," Crear Cliente ")],-1),P=["onSubmit"],R={class:"px-2 grid grid-cols-6 gap-4 md:gap-3 2xl:gap-6 mb-2"},j={class:"col-span-6 shadow-default xl:col-span-3"},X={class:"col-span-6 shadow-default xl:col-span-3"},J={class:"col-span-6 shadow-default xl:col-span-3"},L={class:"col-span-6 shadow-default xl:col-span-3"},q={class:"col-span-6 shadow-default xl:col-span-3 z-50"},H={class:"col-span-6 shadow-default xl:col-span-3"},K={class:"col-span-6 shadow-default xl:col-span-3"},Q={class:"col-span-6 shadow-default xl:col-span-3"},W={class:"col-span-6 shadow-default xl:col-span-3"},Z={class:"col-span-6 shadow-default xl:col-span-3"},ee={class:"flex justify-end pt-0"},ue={__name:"CrearClientExterno",emits:["creado"],setup(ae,{emit:y}){const m=u(!1),p=u(),d=u(""),f=u("");b(d,()=>e.oficina_colonia=d.value),b(f,()=>e.casa_colonia=f.value);const v=n=>{d.value=n.name,e.lng_oficina=n.geometry.location.lng(),e.lat_oficina=n.geometry.location.lat(),e.place_id_oficina=n.place_id},k=n=>{f.value=n.name,e.lng_casa=n.geometry.location.lng(),e.lat_casa=n.geometry.location.lat(),e.place_id_casa=n.place_id},h=n=>{e.fecha_nacimiento=n,p.value=n},V=()=>{m.value=!0},g=()=>{m.value=!1,e.reset()},e=U({nombre:"",rfc:"",email:"",telefono:"",casa_direccion:"",casa_colonia:"",oficina_direccion:"",oficina_colonia:"",fecha_nacimiento:"",tipo_cliente:"",lat_casa:"",lng_casa:"",place_id_casa:"",lat_oficina:"",lng_oficina:"",place_id_oficina:""}),w=u({value:"",closeOnSelect:!0,placeholder:"Seleccione",searchable:!0,options:[{value:"Minorista",label:"Minorista"},{value:"Mayorista",label:"Mayorista"}]}),C=()=>{e.clearErrors(),e.post(route("clientes.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{m.value=!1,M("Cliente Creado"),window.open(self.location,"_self")},onFinish:()=>{},onError:()=>{}})},M=n=>{e.reset(),y("creado"),T.fire({width:350,title:n,icon:"success"})};return(n,l)=>{const _=S("GMapAutocomplete");return I(),Y("div",null,[t("button",{type:"button",onClick:V,class:"p-2 text-xs font-normal rounded text-center text-white bg-green-500 hover:bg-green-600 dark:bg-green-500 dark:hover:bg-green-700"}," Agregar Cliente "),o(D,{show:m.value,onClose:g},{default:x(()=>[t("div",B,[G,t("form",{onSubmit:E(C,["prevent"])},[t("div",R,[o(r,{id:"lng_casa",type:"hidden",modelValue:a(e).lng_casa,"onUpdate:modelValue":l[0]||(l[0]=s=>a(e).lng_casa=s)},null,8,["modelValue"]),o(r,{id:"lat_casa",type:"hidden",modelValue:a(e).lat_casa,"onUpdate:modelValue":l[1]||(l[1]=s=>a(e).lat_casa=s)},null,8,["modelValue"]),o(r,{id:"place_id_casa",type:"hidden",modelValue:a(e).place_id_casa,"onUpdate:modelValue":l[2]||(l[2]=s=>a(e).place_id_casa=s)},null,8,["modelValue"]),o(r,{id:"lng_oficina",type:"hidden",modelValue:a(e).lng_oficina,"onUpdate:modelValue":l[3]||(l[3]=s=>a(e).lng_oficina=s)},null,8,["modelValue"]),o(r,{id:"lat_oficina",type:"hidden",modelValue:a(e).lat_oficina,"onUpdate:modelValue":l[4]||(l[4]=s=>a(e).lat_oficina=s)},null,8,["modelValue"]),o(r,{id:"place_id_oficina",type:"hidden",modelValue:a(e).place_id_oficina,"onUpdate:modelValue":l[5]||(l[5]=s=>a(e).place_id_oficina=s)},null,8,["modelValue"]),t("div",j,[o(c,{for:"nombre",value:"Nombre",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{id:"nombre",type:"text",modelValue:a(e).nombre,"onUpdate:modelValue":l[6]||(l[6]=s=>a(e).nombre=s),autocomplete:"nombre",placeholder:"Ingrese nombre"},null,8,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.nombre},null,8,["message"])]),t("div",X,[o(c,{for:"rfc",value:"RFC",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{id:"rfc",type:"text",modelValue:a(e).rfc,"onUpdate:modelValue":l[7]||(l[7]=s=>a(e).rfc=s),autocomplete:"rfc",placeholder:"Ingrese rfc"},null,8,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.rfc},null,8,["message"])]),t("div",J,[o(c,{for:"email",value:"Email",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{id:"email",type:"email",modelValue:a(e).email,"onUpdate:modelValue":l[8]||(l[8]=s=>a(e).email=s),placeholder:"Ingrese email",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.email},null,8,["message"])]),t("div",L,[o(c,{for:"telefono",value:"Télefono",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{id:"telefono",type:"text",modelValue:a(e).telefono,"onUpdate:modelValue":l[9]||(l[9]=s=>a(e).telefono=s),placeholder:"Ingrese telefono",class:"block w-full text-gray-900 border border-gray-300 rounded bg-gray-50 sm:text-base focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,8,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.telefono},null,8,["message"])]),t("div",q,[o(c,{for:"fecha_nacimiento",value:"Fecha de nacimiento",class:"block text-base font-medium leading-6 text-gray-900"}),o(a(z),{value:p.value,"onUpdate:value":l[10]||(l[10]=s=>p.value=s),"value-type":"YYYY-MM-DD",format:"DD/MM/YYYY",type:"date",onChange:h,lang:"es",placeholder:"Seleccione fecha"},null,8,["value"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.fecha_nacimiento},null,8,["message"])]),t("div",H,[o(c,{for:"tipo_cliente",value:"Tipo de cliente",class:"block text-base font-medium leading-6 text-gray-900"}),o(a(F),N({id:"tipo_cliente",modelValue:a(e).tipo_cliente,"onUpdate:modelValue":l[11]||(l[11]=s=>a(e).tipo_cliente=s)},w.value),null,16,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.tipo_cliente},null,8,["message"])]),t("div",K,[o(c,{for:"casa_direccion",value:"Casa dirección",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{id:"casa_direccion",type:"text",modelValue:a(e).casa_direccion,"onUpdate:modelValue":l[12]||(l[12]=s=>a(e).casa_direccion=s),autocomplete:"casa_direccion",placeholder:"Ingrese casa direccion"},null,8,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.casa_direccion},null,8,["message"])]),t("div",Q,[o(c,{for:"casa_colonia",value:"Casa colonia",class:"block text-base font-medium leading-6 text-gray-900"}),o(_,{class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md rounded focus:ring-primary-500 focus:border-primary-500 block w-full p-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Ingrese casa colonia",onPlace_changed:k,value:a(e).casa_colonia,options:{types:["geocode"],componentRestrictions:{country:"MX"}}},null,8,["value"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.casa_colonia},null,8,["message"])]),t("div",W,[o(c,{for:"oficina_direccion",value:"Oficina dirección",class:"block text-base font-medium leading-6 text-gray-900"}),o(r,{id:"oficina_direccion",type:"text",modelValue:a(e).oficina_direccion,"onUpdate:modelValue":l[13]||(l[13]=s=>a(e).oficina_direccion=s),autocomplete:"oficina_direccion",placeholder:"Ingrese oficina direccion"},null,8,["modelValue"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.oficina_direccion},null,8,["message"])]),t("div",Z,[o(c,{for:"oficina_colonia",value:"Oficina colonia",class:"block text-base font-medium leading-6 text-gray-900"}),o(_,{class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md rounded focus:ring-primary-500 focus:border-primary-500 block w-full p-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Ingrese oficina colonia",onPlace_changed:v,modelValue:d.value,"onUpdate:modelValue":l[14]||(l[14]=s=>d.value=s),value:a(e).oficina_colonia,options:{types:["geocode"],componentRestrictions:{country:"MX"}}},null,8,["modelValue","value"]),o(i,{class:"mt-1 text-xs",message:a(e).errors.oficina_colonia},null,8,["message"])])]),t("div",ee,[t("button",{onClick:g,type:"button",class:"inline-block rounded bg-red-600 p-2 text-sm font-semibold text-white mr-4 mb-1 hover:bg-red-700"}," Cancelar "),o(O,{class:$(["inline-block rounded bg-blue-600 p-2 text-sm font-semibold text-white mr-1 mb-1 hover:bg-blue-700",{"opacity-50":a(e).processing}]),disabled:a(e).processing},{default:x(()=>[A(" Guardar ")]),_:1},8,["class","disabled"])])],40,P)])]),_:1},8,["show"])])}}};export{ue as default};
